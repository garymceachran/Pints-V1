@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Work+Sans:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* PINTS Design System - Guinness-inspired */

@layer base {
  :root {
    /* Near-black charcoal background */
    --background: 30 10% 6%;
    /* Bone/off-white text */
    --foreground: 40 20% 92%;

    /* Warm dark grey cards */
    --card: 30 8% 12%;
    --card-foreground: 40 20% 92%;

    --popover: 30 8% 12%;
    --popover-foreground: 40 20% 92%;

    /* Aged gold accent */
    --primary: 43 70% 50%;
    --primary-foreground: 30 10% 6%;

    /* Darker warm grey */
    --secondary: 30 8% 18%;
    --secondary-foreground: 40 20% 92%;

    /* Muted warm tones */
    --muted: 30 8% 15%;
    --muted-foreground: 40 10% 55%;

    /* Oxblood secondary accent */
    --accent: 0 60% 35%;
    --accent-foreground: 40 20% 92%;

    /* Destructive - deep red */
    --destructive: 0 70% 40%;
    --destructive-foreground: 40 20% 92%;

    --border: 30 8% 20%;
    --input: 30 8% 18%;
    --ring: 43 70% 50%;

    --radius: 0.75rem;

    /* Saved state - gold */
    --saved: 43 70% 50%;
    /* Visited state - oxblood (Guinness palette) */
    --visited: 0 60% 35%;
    /* Skipped state - muted */
    --skipped: 30 8% 30%;
  }

  .dark {
    --background: 30 10% 6%;
    --foreground: 40 20% 92%;
    --card: 30 8% 12%;
    --card-foreground: 40 20% 92%;
    --popover: 30 8% 12%;
    --popover-foreground: 40 20% 92%;
    --primary: 43 70% 50%;
    --primary-foreground: 30 10% 6%;
    --secondary: 30 8% 18%;
    --secondary-foreground: 40 20% 92%;
    --muted: 30 8% 15%;
    --muted-foreground: 40 10% 55%;
    --accent: 0 60% 35%;
    --accent-foreground: 40 20% 92%;
    --destructive: 0 70% 40%;
    --destructive-foreground: 40 20% 92%;
    --border: 30 8% 20%;
    --input: 30 8% 18%;
    --ring: 43 70% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html,
  body {
    height: 100%;
  }

  #root {
    height: 100%;
    min-height: 100%;
  }

  body {
    @apply bg-background text-foreground font-sans;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Hide scrollbar for cleaner mobile experience */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted));
    border-radius: 2px;
  }
}

/* Leaflet overrides for dark theme - explicit dimensions required for map to render */
.leaflet-container {
  width: 100% !important;
  height: 100% !important;
  background: hsl(30 10% 6%) !important;
  font-family: 'Work Sans', sans-serif;
}

.leaflet-tile-pane {
  filter: brightness(0.7) contrast(1.1) saturate(0.3) sepia(0.2);
}

/* Hide zoom controls - mobile users use pinch gestures */
.leaflet-control-zoom {
  display: none !important;
}

/* Attribution - stealth placement at very bottom */
.leaflet-control-attribution {
  background: transparent !important;
  color: hsl(40 10% 35%) !important;
  font-size: 9px !important;
  opacity: 0.5;
  padding: 2px 4px !important;
  position: fixed !important;
  bottom: 64px !important;
  right: 4px !important;
  left: auto !important;
  margin: 0 !important;
  z-index: 400 !important;
}

.leaflet-control-attribution a {
  color: hsl(40 10% 40%) !important;
}

/* Custom marker styles - Guinness palette */
.venue-marker {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 32px !important;
  height: 32px !important;
  border-radius: 50%;
  background: hsl(30 8% 15%);
  border: 2.5px solid hsl(40 20% 70%);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  transition: all 0.2s ease;
  box-sizing: border-box;
  position: relative;
}

/* Unjudged: charcoal circle, bone border */
.venue-marker.default {
  background: hsl(30 8% 18%);
  border-color: hsl(40 20% 70%);
}

/* Saved: charcoal fill with aged-gold ring */
.venue-marker.saved {
  background: hsl(30 8% 15%);
  border-color: hsl(43 70% 50%);
  border-width: 3px;
}

/* Visited: charcoal fill with oxblood ring */
.venue-marker.visited {
  background: hsl(30 8% 15%);
  border-color: hsl(0 60% 35%);
  border-width: 3px;
}

/* Gold check badge for visited markers */
.venue-marker.visited::after {
  content: '';
  position: absolute;
  top: -4px;
  right: -4px;
  width: 12px;
  height: 12px;
  background: hsl(43 70% 50%);
  border-radius: 50%;
  border: 2px solid hsl(30 8% 12%);
}

/* Skipped: very muted, low opacity */
.venue-marker.skipped {
  background: hsl(30 8% 18%);
  border-color: hsl(30 8% 30%);
  opacity: 0.35;
}

.venue-marker.selected {
  transform: scale(1.3);
  z-index: 1000 !important;
  box-shadow: 0 0 0 4px hsl(43 70% 50% / 0.4), 0 4px 12px rgba(0, 0, 0, 0.5);
}

/* Pulse animation for selected marker */
@keyframes marker-pulse {
  0%, 100% {
    box-shadow: 0 0 0 4px hsl(43 70% 50% / 0.4), 0 4px 12px rgba(0, 0, 0, 0.5);
  }
  50% {
    box-shadow: 0 0 0 8px hsl(43 70% 50% / 0.2), 0 4px 12px rgba(0, 0, 0, 0.5);
  }
}

.venue-marker.selected {
  animation: marker-pulse 2s ease-in-out infinite;
}

/* Slide up animation for venue card */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.venue-card-enter {
  animation: slideUp 0.3s ease-out forwards;
}

/* Shake animation for skip */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-8px) rotate(-2deg); }
  40% { transform: translateX(8px) rotate(2deg); }
  60% { transform: translateX(-6px) rotate(-1deg); }
  80% { transform: translateX(6px) rotate(1deg); }
}

.shake {
  animation: shake 0.4s ease-in-out;
}

/* Fade out animation */
@keyframes fadeOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

.fade-out {
  animation: fadeOut 0.3s ease-out forwards;
}
